[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  GIT_SUBMODULES = "false"

# Optional but recommended: make the teleprompter the default entry.
[[redirects]]
  from = "/"
  to = "/teleprompter_pro.html"
  status = 200

[[redirects]]
  from = "/login"
  to = "/login.html"
  status = 200

[[redirects]]
  from = "/login/*"
  to = "/login.html"
  status = 200

[[redirects]]
  from = "/reset"
  to = "/reset.html"
  status = 200

[[redirects]]
  from = "/reset/*"
  to = "/reset.html"
  status = 200

[[redirects]]
  from = "/anvil"
  to = "/teleprompter_pro.html"
  status = 200

[[redirects]]
  from = "/anvil/*"
  to = "/teleprompter_pro.html"
  status = 200

[[redirects]]
  from = "/account"
  to = "/account.html"
  status = 200

[[redirects]]
  from = "/account/*"
  to = "/account.html"
  status = 200

[[redirects]]
  from = "/sitemaps.xml"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/sitemap"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/sitemap/"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/sitemap_index.xml"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/sitemap-index.xml"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/wp-sitemap.xml"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/rss"
  to = "/atom.xml"
  status = 200

[[redirects]]
  from = "/rss.xml"
  to = "/atom.xml"
  status = 200

[[redirects]]
  from = "/feed.xml"
  to = "/atom.xml"
  status = 200

[[redirects]]
  from = "/feed"
  to = "/atom.xml"
  status = 200

[[redirects]]
  from = "/feed/"
  to = "/atom.xml"
  status = 200

[[redirects]]
  from = "/favicon.ico"
  to = "/assets/anvil-favicon.png"
  status = 200

[[redirects]]
  from = "/apple-touch-icon.png"
  to = "/assets/anvil-favicon.png"
  status = 200

[[redirects]]
  from = "/apple-touch-icon-precomposed.png"
  to = "/assets/anvil-favicon.png"
  status = 200

[[redirects]]
  from = "/manifest.webmanifest"
  to = "/site.webmanifest"
  status = 200

[[redirects]]
  from = "/robots"
  to = "/robots.txt"
  status = 200

[[redirects]]
  from = "/.well-known/security.txt"
  to = "/security.txt"
  status = 200

# If you ever add SPA routes later, keep this OFF for now unless you need it.
# [[redirects]]
#   from = "/*"
#   to = "/teleprompter_pro.html"
#   status = 200
