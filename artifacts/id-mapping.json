{
  "generatedAt": "2025-10-22T00:00:00Z",
  "method": "grep: collected id=... from teleprompter_pro.html, document.getElementById/q/$id usages across JS/TS files",
  "summary": "Mapping of DOM ids referenced in code vs declared in teleprompter_pro.html and runtime templates (teleprompter_pro.js / src/ui/settings builder). 'both' means referenced by code and present in the static HTML; 'referencedOnly' means code references it but it's injected by runtime templates (or only present in teleprompter_pro.js or TS builder); 'declaredOnly' means static HTML declares it but no code reference was found by the initial search.",
  "both": [
    { "id": "viewer", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","tools/teleprompter_e2e.js"] },
    { "id": "script", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "editor", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","tools/test_save_ci.js"] },
    { "id": "dbMeterTop", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/media/mic.js","src/media/mic.ts"] },
    { "id": "presentBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "settingsBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "shortcutsBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","ui/selfChecks.js"] },
    { "id": "legend", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "openDisplayBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "closeDisplayBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "micBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/media/mic.js"] },
    { "id": "releaseMicBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "recBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "autoSpeed", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "autoDec", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "autoInc", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "autoToggle", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "micDeviceSel", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["src/media/mic.js","src/media/mic.ts","teleprompter_pro.js"] },
    { "id": "camDevice", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/media/camera.js"] },
    { "id": "camSize", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "camOpacity", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "camMirror", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "camPiP", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "fontSize", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "lineHeight", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "catchUpBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "preroll", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "matchAggro", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "motionSmooth", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "resetBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "timer", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "loadSample", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "normalizeTopBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","ui/selfChecks.js"] },
    { "id": "clearText", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "toggleSpeakers", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "speakersBody", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "name-s1", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "color-s1", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "wrap-s1", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "downloadFormat", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "downloadFile", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "uploadFileBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["tools/check_upload_click.js","teleprompter_pro.js"] },
    { "id": "uploadFile", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["tools/check_upload_click.js"] },
    { "id": "scriptSlots", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "scriptTitle", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","tools/test_save_ci.js"] },
    { "id": "scriptSaveBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "scriptSaveAsBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "scriptLoadBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "scriptDeleteBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "scriptRenameBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "resetScriptBtn", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "status", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "marker", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "camWrap", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["ui/cam-draggable.js","teleprompter_pro.js"] },
    { "id": "camVideo", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "countOverlay", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "countNum", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "shortcutsOverlay", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","ui/selfChecks.js"] },
    { "id": "shortcutsTitle", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "shortcutsClose", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "settingsOverlay", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "settingsTitle", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["src/ui/settings.js"] },
    { "id": "settingsClose", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["src/ui/settings.js"] },
    { "id": "settingsTabs", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["src/ui/settings.js"] },
    { "id": "settingsBody", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "anvil-build-label", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "hud-root", "declaredIn": ["teleprompter_pro.html"], "referencedIn": ["teleprompter_pro.js","src/ui/toasts.js"] }
  ],

  "referencedOnly": [
    { "id": "settingsReqMic", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "settingsRequestMicBtn", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["src/ui/settings/wire.ts","teleprompter_pro.js"] },
    { "id": "settingsMicSel", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["src/media/mic.ts","src/media/mic.js","src/ui/settings.js","teleprompter_pro.js"] },
    { "id": "settingsCamSel", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/media/camera.js","src/media/mic.ts"] },
    { "id": "settingsStartDbBtn", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings/wire.ts"] },
    { "id": "settingsStopDbBtn", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings/wire.ts"] },
    { "id": "settingsReleaseMicBtn", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings/wire.ts"] },
    { "id": "settingsEnableObs", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "settingsObsUrl", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "settingsObsPass", "declaredIn": ["teleprompter_pro.js","src/ui/settings/builder.ts"], "referencedIn": ["teleprompter_pro.js","src/ui/settings.js"] },
    { "id": "settingsObsReconnect", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "obsDebugPanel", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "obsDebugMsgs", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "obsAdapterLog", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "validatorLineOverlay", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "obsStatusText", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] },
    { "id": "obsConnStatus", "declaredIn": ["teleprompter_pro.js"], "referencedIn": ["teleprompter_pro.js"] }
  ],

  "declaredOnly": [
    { "id": "saveChip", "declaredIn": ["teleprompter_pro.html"], "notes": "UI badge; not found by getElementById/q/$id search (may be read by other means)" },
    { "id": "displayChip", "declaredIn": ["teleprompter_pro.html"], "notes": "topbar chip; updated via window.setRecChip / setDisplayChip functions in code (indirect)" },
    { "id": "scrollChip", "declaredIn": ["teleprompter_pro.html"], "notes": "status chip; not directly referenced in getElementById results but used by HUD code via named helpers" }
  ],

  "notes": {
    "1": "settings* ids are injected by the monolith (teleprompter_pro.js) or constructed by `src/ui/settings/builder.ts`. They are intentionally not in the static HTML and are considered 'referencedOnly' from the static HTML's perspective.",
    "2": "The mapping includes the primary locations (static HTML, teleprompter_pro.js, src/ui settings builder and various media modules). If you want a full per-file+line listing for every id, I can produce a line-indexed JSON next.",
    "3": "Takeaway: mic/camera/dB controls are covered — our earlier $id fallbacks + populateDevices() changes already address the main legacy/new id pairs.",
    "4": "If you want I can also (a) add more $id fallbacks in a few additional hotspots, or (b) add small legacy id attributes into the static HTML for the highest-risk ids to avoid runtime injection races."
  }
}