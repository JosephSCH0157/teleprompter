{
  "version": 3,
  "sources": ["bridge.ts"],
  "sourcesContent": ["// Bridge adapter: triggers local HTTP endpoints or simulates starts/stops\r\n// Config shape (from recorders settings):\r\n// { startUrl: string, stopUrl?: string }\r\n\r\n/** @returns {import('../recorders.js').RecorderAdapter} */\r\nexport function createBridgeAdapter(){\r\n  type BridgeConfig = { startUrl: string; stopUrl?: string };\r\n  let cfg: BridgeConfig = { startUrl: '', stopUrl: '' };\r\n  let active = false;\r\n  function configure(next: Partial<BridgeConfig>){ cfg = { ...cfg, ...(next||{}) }; }\r\n  async function ping(url?: string): Promise<void>{\r\n    if (!url) return;\r\n    try {\r\n      await fetch(url, { method: 'POST', mode: 'no-cors' });\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }\r\n  return {\r\n    id: 'bridge',\r\n    label: 'Bridge (HTTP hooks)',\r\n    configure,\r\n    async isAvailable(): Promise<boolean>{ return true; },\r\n    async start(): Promise<void>{ active = true; await ping(cfg.startUrl); },\r\n    async stop(): Promise<void>{ if (!active) return; active = false; await ping(cfg.stopUrl); },\r\n    async test(): Promise<void>{ await ping(cfg.startUrl || cfg.stopUrl); }\r\n  };\r\n}\r\n"],
  "mappings": ";;;AAKO,SAAS,sBAAqB;AAEnC,MAAI,MAAoB,EAAE,UAAU,IAAI,SAAS,GAAG;AACpD,MAAI,SAAS;AACb,WAAS,UAAU,MAA4B;AAAE,UAAM,EAAE,GAAG,KAAK,GAAI,QAAM,CAAC,EAAG;AAAA,EAAG;AAClF,iBAAe,KAAK,KAA4B;AAC9C,QAAI,CAAC,IAAK;AACV,QAAI;AACF,YAAM,MAAM,KAAK,EAAE,QAAQ,QAAQ,MAAM,UAAU,CAAC;AAAA,IACtD,QAAQ;AAAA,IAER;AAAA,EACF;AACA,SAAO;AAAA,IACL,IAAI;AAAA,IACJ,OAAO;AAAA,IACP;AAAA,IACA,MAAM,cAA+B;AAAE,aAAO;AAAA,IAAM;AAAA,IACpD,MAAM,QAAsB;AAAE,eAAS;AAAM,YAAM,KAAK,IAAI,QAAQ;AAAA,IAAG;AAAA,IACvE,MAAM,OAAqB;AAAE,UAAI,CAAC,OAAQ;AAAQ,eAAS;AAAO,YAAM,KAAK,IAAI,OAAO;AAAA,IAAG;AAAA,IAC3F,MAAM,OAAqB;AAAE,YAAM,KAAK,IAAI,YAAY,IAAI,OAAO;AAAA,IAAG;AAAA,EACxE;AACF;",
  "names": []
}
