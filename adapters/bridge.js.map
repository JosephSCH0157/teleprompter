{
  "version": 3,
  "sources": ["bridge.ts"],
  "sourcesContent": ["// Bridge adapter: triggers local HTTP endpoints or simulates starts/stops\r\n// Config shape (from recorders settings):\r\n// { startUrl: string, stopUrl?: string }\r\n\r\n/** @returns {import('../recorders.js').RecorderAdapter} */\r\nexport function createBridgeAdapter(){\r\n  let cfg = { startUrl: '', stopUrl: '' };\r\n  let active = false;\r\n  function configure(next){ cfg = { ...cfg, ...(next||{}) }; }\r\n  async function ping(url){\r\n    if (!url) return;\r\n    try {\r\n      await fetch(url, { method: 'POST', mode: 'no-cors' });\r\n    } catch {}\r\n  }\r\n  return {\r\n    id: 'bridge',\r\n    label: 'Bridge (HTTP hooks)',\r\n    configure,\r\n    async isAvailable(){ return true; },\r\n    async start(){ active = true; await ping(cfg.startUrl); },\r\n    async stop(){ if (!active) return; active = false; await ping(cfg.stopUrl); },\r\n    async test(){ await ping(cfg.startUrl || cfg.stopUrl); }\r\n  };\r\n}\r\n"],
  "mappings": ";AAKO,SAAS,sBAAqB;AACnC,MAAI,MAAM,EAAE,UAAU,IAAI,SAAS,GAAG;AACtC,MAAI,SAAS;AACb,WAAS,UAAU,MAAK;AAAE,UAAM,EAAE,GAAG,KAAK,GAAI,QAAM,CAAC,EAAG;AAAA,EAAG;AAC3D,iBAAe,KAAK,KAAI;AACtB,QAAI,CAAC,IAAK;AACV,QAAI;AACF,YAAM,MAAM,KAAK,EAAE,QAAQ,QAAQ,MAAM,UAAU,CAAC;AAAA,IACtD,QAAQ;AAAA,IAAC;AAAA,EACX;AACA,SAAO;AAAA,IACL,IAAI;AAAA,IACJ,OAAO;AAAA,IACP;AAAA,IACA,MAAM,cAAa;AAAE,aAAO;AAAA,IAAM;AAAA,IAClC,MAAM,QAAO;AAAE,eAAS;AAAM,YAAM,KAAK,IAAI,QAAQ;AAAA,IAAG;AAAA,IACxD,MAAM,OAAM;AAAE,UAAI,CAAC,OAAQ;AAAQ,eAAS;AAAO,YAAM,KAAK,IAAI,OAAO;AAAA,IAAG;AAAA,IAC5E,MAAM,OAAM;AAAE,YAAM,KAAK,IAAI,YAAY,IAAI,OAAO;AAAA,IAAG;AAAA,EACzD;AACF;",
  "names": []
}
